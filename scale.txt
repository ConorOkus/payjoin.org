# How Does Payjoin Scale Bitcoin?

The Bitcoin blockchain is limited by block size. Approximately every ten minutes a new block is added to the chain. New blocks add 2MB of data on average [[1]](). Blocks are limited by transaction weight, or how much of each type of data is included in a transaction.

The simplest way to scale any database is batching, which is exactly what Payjoin does.

Payjoin enables multiple distinct parties to combine what would otherwise be distinct transaction intents into a joint transaction which lets them share transaction data they would otherwise both need to pay to add to the chain.

## Your Typical Payjoin

A typical payjoin combines a payment from sender to receiver with the consolidation of a receiver input. e.g Input {(A, 2), (B, 3)}{(B, 4), (A, 1)} where A pays B 1 BTC at the same time B consolidates their 3 BTC UTXO with A's payment. Without payjoin that would require two transactions
{(A, 2)}{(B, 1), (A, 1)} followed by {(B, 1), (B, 3)}{(B, 4)}.

The Payjoin using exclusively Pay-to-Taproot addresses (P2TR) [here](https://mutinynet.com/tx/3c5436f1edf7d4c32a5ccf2448c1e963f52bb8a0fb6f8688d7e78a14e1cbe80b) is 211.75 vB. An analogous P2TR payment [here](https://mutinynet.com/tx/2c45dc6fef9feb32b9741cc3e6197eda94e1b0c45675e18818bfadce9fa94e20) is 152.25 vB and P2TR consolidation [here](https://mutinynet.com/tx/ef9263ed05c07f7ba933389eee7bfd62372e3dc4d1e697f96b7c66a215cc9b46) is 168.5 vB, for a total of 320.75 vB.

The separate payment and consolidation have to pay for 51% more block weight to be mined than the Payjoin. What other scaling solution achieves that kind of savings?


## Opportunistic Consolidation

Payjoin got its start as a way to make a sort of [coinjoin] from a payment. A receiver combines their input with the sender's, effectively joining a [consolidation]() transaction with a simple transfer. An observer looking at the payjoin is cannot tell it apart from a simple transfer where all of the inputs come from the same entity.

< need visuals >

not only does the total weight get shaved. wouldn't it be cool when wallet

## Transaction Cut-Through

Payjoin not only creates opportunity to batch consolidation, but may create any output with the incoming funds. Because payjoin involves live interaction, the receiver may open lightning channels, forward funds to a different wallet, pay for goods and services, or batch forward transactions with incoming funds without first taking them into a new UTXO. 

https://chaincase.app/words/lightning-payjoin
https://payjoin.substack.com/p/interactive-payment-batching-is-better

[1](https://bitcoin.stackexchange.com/a/116350)  {#1}